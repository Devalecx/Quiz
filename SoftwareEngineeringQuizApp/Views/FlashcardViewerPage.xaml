<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:SoftwareEngineeringQuizApp.ViewModels"
             x:Class="SoftwareEngineeringQuizApp.Views.FlashcardViewerPage"
             Title="{Binding TemaActual}"
             BackgroundColor="#E0F7FA">

    <Grid RowDefinitions="Auto, *, Auto" Padding="20">

        <!-- Header: Progreso -->
        <Label Grid.Row="0" 
               Text="{Binding TextoProgreso}" 
               HorizontalOptions="Center" 
               FontSize="16" 
               FontAttributes="Bold" 
               TextColor="#006064"
               Margin="0,10"/>

        <!-- La Tarjeta (Animable) -->
        <Frame x:Name="TarjetaFrame"
               Grid.Row="1"
               BackgroundColor="White"
               CornerRadius="20"
               HasShadow="True"
               BorderColor="#00BCD4"
               VerticalOptions="Center"
               HeightRequest="300"
               Margin="20,0">

            <Frame.GestureRecognizers>
                <!-- Al tocar la tarjeta tambiÃ©n se voltea -->
                <TapGestureRecognizer Tapped="OnVoltearClicked"/>
            </Frame.GestureRecognizers>

            <Grid>
                <!-- Indicador visual pequeÃ±o -->
                <Label Text="{Binding TextoIndicador}" 
                       TextColor="LightGray" 
                       FontSize="10" 
                       HorizontalOptions="Center" 
                       VerticalOptions="Start"/>

                <!-- Contenido Principal -->
                <Label Text="{Binding TextoMostrar}"
                       FontSize="22"
                       HorizontalOptions="Center"
                       VerticalOptions="Center"
                       HorizontalTextAlignment="Center"
                       TextColor="#333"/>

                <Label Text="Toca para voltear ðŸ”„" 
                       VerticalOptions="End" 
                       HorizontalOptions="Center" 
                       TextColor="#00BCD4" 
                       FontSize="12"/>
            </Grid>
        </Frame>

        <!-- Controles de NavegaciÃ³n -->
        <Grid Grid.Row="2" ColumnDefinitions="Auto, *, Auto" Margin="0,30,0,10">

            <Button Grid.Column="0" 
                    Text="â¬… Anterior" 
                    Command="{Binding AnteriorCommand}"
                    IsEnabled="{Binding PuedeRetroceder}"
                    BackgroundColor="#0097A7"/>

            <Button Grid.Column="1"
                    Text="Voltear"
                    Clicked="OnVoltearClicked"
                    BackgroundColor="#00BCD4"
                    HorizontalOptions="Center"
                    WidthRequest="100"/>

            <Button Grid.Column="2" 
                    Text="Siguiente âž¡" 
                    Command="{Binding SiguienteCommand}"
                    IsEnabled="{Binding PuedeAvanzar}"
                    BackgroundColor="#0097A7"/>
        </Grid>
    </Grid>
</ContentPage>